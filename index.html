
<html>
<head>
<meta charset=utf-8 />
<title>PipeLeaflet</title>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>

 <script src="https://unpkg.com/leaflet@1.0.0-rc.3/dist/leaflet.js"></script>
 <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.0-rc.3/dist/leaflet.css" />
 <div id="map"></div>

<style>
  body { margin:0; padding:0; }
  #map { position:absolute; top:0; bottom:0; width:100%; }
</style>
</head>
<body>
<style>
table, th, td {
    border: 1px solid black;
}
</style>

<script>
var map = L.map('map');

map.setView([39.9,-79.9], 4);
mapLink = '<a href="http://openstreetmap.org">OpenStreetMap</a>';
L.tileLayer(
	'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
		attribution: '&copy; ' + mapLink + ' Contributors',
		maxZoom: 15,
	}).addTo(map);

$.getJSON('http://localhost:8000/points.geojson',function(data) { addDataToMap0(data,map); });
	function addDataToMap0(data, map) {
		var dataLayer = L.geoJson(data, {
			style: function(feature) {
				return {color: '#0078FF'};
			},
		    pointToLayer: function(feature, latlng) {
		        return new L.CircleMarker(latlng, {radius: 2, fillOpacity: 0.85});
		    },
			onEachFeature: function(feature, layer) {                        var popupText = "<table><tr><th>YOUNG_OLD: </th><td>" + feature.properties['YOUNG_OLD']+"</td></tr>";             var popupText = popupText+ "<tr><th>LON: </th><td>" + feature.properties['LON']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR15: </th><td>" + feature.properties['VAR15']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR24C: </th><td>" + feature.properties['VAR24C']+"</td></tr>";             var popupText = popupText+ "<tr><th>VE_FORMS: </th><td>" + feature.properties['VE_FORMS']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR22C: </th><td>" + feature.properties['VAR22C']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR10: </th><td>" + feature.properties['VAR10']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR12: </th><td>" + feature.properties['VAR12']+"</td></tr>";             var popupText = popupText+ "<tr><th>SZ_STATE_CZ_COUNTY: </th><td>" + feature.properties['SZ_STATE_CZ_COUNTY']+"</td></tr>";             var popupText = popupText+ "<tr><th>ST_CASE: </th><td>" + feature.properties['ST_CASE']+"</td></tr>";             var popupText = popupText+ "<tr><th>Unnamed: 0: </th><td>" + feature.properties['Unnamed: 0']+"</td></tr>";             var popupText = popupText+ "<tr><th>HOUR: </th><td>" + feature.properties['HOUR']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR11: </th><td>" + feature.properties['VAR11']+"</td></tr>";             var popupText = popupText+ "<tr><th>CRASH_TIME: </th><td>" + feature.properties['CRASH_TIME']+"</td></tr>";             var popupText = popupText+ "<tr><th>PED_PEDAL: </th><td>" + feature.properties['PED_PEDAL']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR12C: </th><td>" + feature.properties['VAR12C']+"</td></tr>";             var popupText = popupText+ "<tr><th>SZ_STATE: </th><td>" + feature.properties['SZ_STATE']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR11C: </th><td>" + feature.properties['VAR11C']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR15C: </th><td>" + feature.properties['VAR15C']+"</td></tr>";             var popupText = popupText+ "<tr><th>LAT: </th><td>" + feature.properties['LAT']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR8C: </th><td>" + feature.properties['VAR8C']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR23C: </th><td>" + feature.properties['VAR23C']+"</td></tr>";             var popupText = popupText+ "<tr><th>MINUTE: </th><td>" + feature.properties['MINUTE']+"</td></tr>";             var popupText = popupText+ "<tr><th>LONGITUDE: </th><td>" + feature.properties['LONGITUDE']+"</td></tr>";             var popupText = popupText+ "<tr><th>FATALS: </th><td>" + feature.properties['FATALS']+"</td></tr>";             var popupText = popupText+ "<tr><th>COUNTY: </th><td>" + feature.properties['COUNTY']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR25C: </th><td>" + feature.properties['VAR25C']+"</td></tr>";             var popupText = popupText+ "<tr><th>STATE: </th><td>" + feature.properties['STATE']+"</td></tr>";             var popupText = popupText+ "<tr><th>STANAME: </th><td>" + feature.properties['STANAME']+"</td></tr>";             var popupText = popupText+ "<tr><th>YEAR: </th><td>" + feature.properties['YEAR']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR24: </th><td>" + feature.properties['VAR24']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR25: </th><td>" + feature.properties['VAR25']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR26: </th><td>" + feature.properties['VAR26']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR27: </th><td>" + feature.properties['VAR27']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR20: </th><td>" + feature.properties['VAR20']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR21: </th><td>" + feature.properties['VAR21']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR22: </th><td>" + feature.properties['VAR22']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR23: </th><td>" + feature.properties['VAR23']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR7: </th><td>" + feature.properties['VAR7']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR1: </th><td>" + feature.properties['VAR1']+"</td></tr>";             var popupText = popupText+ "<tr><th>CNTYNAME: </th><td>" + feature.properties['CNTYNAME']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR9: </th><td>" + feature.properties['VAR9']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR8: </th><td>" + feature.properties['VAR8']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR17: </th><td>" + feature.properties['VAR17']+"</td></tr>";             var popupText = popupText+ "<tr><th>LCSTANAME: </th><td>" + feature.properties['LCSTANAME']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR16: </th><td>" + feature.properties['VAR16']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR10C: </th><td>" + feature.properties['VAR10C']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR28C: </th><td>" + feature.properties['VAR28C']+"</td></tr>";             var popupText = popupText+ "<tr><th>LATITUDE: </th><td>" + feature.properties['LATITUDE']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR28: </th><td>" + feature.properties['VAR28']+"</td></tr>";             var popupText = popupText+ "<tr><th>VAR9C: </th><td>" + feature.properties['VAR9C']+"</td></tr>"; ; 	
		            layer.bindPopup(popupText, {autoPan:false, maxHeight:500, maxWidth:350} ); 
	        }});
	    dataLayer.addTo(map);
		map.fitBounds(dataLayer.getBounds())
		};
		

</script>